<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Model diagnostics</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">globalIRmap</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/messamat/globalIRmap">
    <span class="fa fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Model diagnostics</h1>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span> workflowr <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2020-04-16
</p>
<p>
<strong>Checks:</strong> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7 <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>globalIRmap/</code> <span class="glyphicon glyphicon-question-sign" aria-hidden="true" title="This is the local directory in which the code in this file was executed."> </span>
</p>
<p>
This reproducible <a href="http://rmarkdown.rstudio.com">R Markdown</a> analysis was created with <a
  href="https://github.com/jdblischak/workflowr">workflowr</a> (version 1.6.1). The <em>Checks</em> tab describes the reproducibility checks that were applied when the results were created. The <em>Past versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date </a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate" class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git repository, you know the exact version of the code that produced these results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the global environment can affect the analysis in your R Markdown file in unknown ways. For reproduciblity it’s best to always run the code in an empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20200414code"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Seed:</strong> <code>set.seed(20200414)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20200414code" class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20200414)</code> was run prior to running the code in the R Markdown file. Setting a seed ensures that any results that rely on randomness, e.g. subsampling or permutations, are reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Session information:</strong> recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be confident that you successfully produced the results during this run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcommessamatglobalIRmaptree20af3434d8b5d88d9036f36b2e2bd875d2e32f1ftargetblank20af343a"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Repository version:</strong> <a href="https://github.com/messamat/globalIRmap/tree/20af3434d8b5d88d9036f36b2e2bd875d2e32f1f" target="_blank">20af343</a> </a>
</p>
</div>
<div id="strongRepositoryversionstrongahrefhttpsgithubcommessamatglobalIRmaptree20af3434d8b5d88d9036f36b2e2bd875d2e32f1ftargetblank20af343a" class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development and connecting the code version to the results is critical for reproducibility.
</p>
<p>
The results in this page were generated with repository version <a href="https://github.com/messamat/globalIRmap/tree/20af3434d8b5d88d9036f36b2e2bd875d2e32f1f" target="_blank">20af343</a>. See the <em>Past versions</em> tab to see a history of the changes made to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for the analysis have been committed to Git prior to generating the results (you can use <code>wflow_publish</code> or <code>wflow_git_commit</code>). workflowr only checks the R Markdown file, but you know if there are other scripts or data files that it depends on. Below is the status of the Git repository when the results were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/
    Ignored:    .drake/config/
    Ignored:    .drake/data/
    Ignored:    .drake/drake/
    Ignored:    .drake/keys/
    Ignored:    .drake/scratch/
    Ignored:    packrat/lib-R/
    Ignored:    packrat/lib-ext/
    Ignored:    packrat/lib/

Untracked files:
    Untracked:  tuning_timeanalysis.R

Unstaged changes:
    Modified:   IntermittentAnalysis_MasterScript_reproduced.R
    Modified:   R/IRmapping_functions.R

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not included in this status report because it is ok for generated content to have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were made to the R Markdown (<code>analysis/diagnostics.Rmd</code>) and HTML (<code>docs/diagnostics.html</code>) files. If you’ve configured a remote Git repository (see <code>?wflow_git_remote</code>), click on the hyperlinks in the table below to view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/messamat/globalIRmap/blob/20af3434d8b5d88d9036f36b2e2bd875d2e32f1f/analysis/diagnostics.Rmd" target="_blank">20af343</a>
</td>
<td>
Mathis Loïc Messager
</td>
<td>
2020-04-16
</td>
<td>
Update license and add diagnostics
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<pre><code>Warning: package &#39;drake&#39; was built under R version 3.6.3</code></pre>
<pre><code>Warning: package &#39;reprex&#39; was built under R version 3.6.3</code></pre>
<pre><code>Warning: package &#39;data.table&#39; was built under R version 3.6.3</code></pre>
<pre><code>Warning: package &#39;future&#39; was built under R version 3.6.3</code></pre>
<pre><code>Warning: package &#39;future.apply&#39; was built under R version 3.6.3</code></pre>
<pre><code>Warning: package &#39;future.callr&#39; was built under R version 3.6.3</code></pre>
<pre><code>Warning: package &#39;furrr&#39; was built under R version 3.6.3</code></pre>
<pre><code>Warning: package &#39;kableExtra&#39; was built under R version 3.6.3</code></pre>
<div id="reference-data" class="section level1">
<h1>Reference data</h1>
<p>We use streamflow data from a subset of streamgauging stations from the Global Runoff Data Center. These stations were closely inspected for streamflow time series quality and positional accuracy prior to being snapped/joined to the HydroSHEDS global river network. Only gauges with at least 10 years of streamflow data were included in the analysis, excluding any year with more than 20 days of missing data. A gauge was considered intermittent if it stopped flowing at least one day over the course of its record.</p>
</div>
<div id="predictor-variables" class="section level1">
<h1>Predictor variables</h1>
<p>The following variables, either directly included or derived from the HydroATLAS are used as candidates in training the random forest classification model.</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
varname
</th>
<th style="text-align:left;">
Keyscale
</th>
<th style="text-align:left;">
Keystat
</th>
<th style="text-align:left;">
ID
</th>
<th style="text-align:left;">
Category
</th>
<th style="text-align:left;">
Attribute
</th>
<th style="text-align:left;">
Source.Data
</th>
<th style="text-align:left;">
Citation
</th>
<th style="text-align:left;">
Spatial.representation
</th>
<th style="text-align:left;">
Temporal.or.statistical.aggregation.or.other.association
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Global Aridity Index catchment Average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
C07
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Global Aridity Index
</td>
<td style="text-align:left;">
Global Aridity Index
</td>
<td style="text-align:left;">
Zomer et al. 2008
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Global Aridity Index watershed Average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
C07
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Global Aridity Index
</td>
<td style="text-align:left;">
Global Aridity Index
</td>
<td style="text-align:left;">
Zomer et al. 2008
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay Fraction in Soil catchment Average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
S01
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Clay Fraction in Soil
</td>
<td style="text-align:left;">
SoilGrids1km
</td>
<td style="text-align:left;">
Hengl et al. 2014
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay Fraction in Soil watershed Average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
S01
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Clay Fraction in Soil
</td>
<td style="text-align:left;">
SoilGrids1km
</td>
<td style="text-align:left;">
Hengl et al. 2014
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Climate Zones catchment Spatial majority (dominant value)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mj
</td>
<td style="text-align:left;">
C01
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Climate Zones
</td>
<td style="text-align:left;">
GEnS
</td>
<td style="text-align:left;">
Metzger et al. 2013
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial majority (dominant value)
</td>
</tr>
<tr>
<td style="text-align:left;">
Climate Moisture Index catchment Minimum or Annual minimum
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mn
</td>
<td style="text-align:left;">
C08
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Climate Moisture Index
</td>
<td style="text-align:left;">
WorldClim &amp; Global-PET
</td>
<td style="text-align:left;">
Hijmans et al. 2005
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Minimum or Annual minimum
</td>
</tr>
<tr>
<td style="text-align:left;">
Climate Moisture Index watershed Annual average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
C08
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Climate Moisture Index
</td>
<td style="text-align:left;">
WorldClim &amp; Global-PET
</td>
<td style="text-align:left;">
Hijmans et al. 2005
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Natural Discharge pour point Minimum or Annual minimum
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
mn
</td>
<td style="text-align:left;">
H01
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Natural Discharge
</td>
<td style="text-align:left;">
WaterGAP v2.2
</td>
<td style="text-align:left;">
DÃ¶ll et al. 2003
</td>
<td style="text-align:left;">
pour point
</td>
<td style="text-align:left;">
Minimum or Annual minimum
</td>
</tr>
<tr>
<td style="text-align:left;">
Natural Discharge pour point Maximum or Annual maximum
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
mx
</td>
<td style="text-align:left;">
H01
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Natural Discharge
</td>
<td style="text-align:left;">
WaterGAP v2.2
</td>
<td style="text-align:left;">
DÃ¶ll et al. 2003
</td>
<td style="text-align:left;">
pour point
</td>
<td style="text-align:left;">
Maximum or Annual maximum
</td>
</tr>
<tr>
<td style="text-align:left;">
Natural Discharge pour point Annual average
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
H01
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Natural Discharge
</td>
<td style="text-align:left;">
WaterGAP v2.2
</td>
<td style="text-align:left;">
DÃ¶ll et al. 2003
</td>
<td style="text-align:left;">
pour point
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Discharge watershed Annual min/max
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Discharge watershed Annual min/average
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Degree of Regulation pour point Value
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
va
</td>
<td style="text-align:left;">
H07
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Degree of Regulation
</td>
<td style="text-align:left;">
HydroSHEDS &amp; GRanD
</td>
<td style="text-align:left;">
Lehner et al. 2011
</td>
<td style="text-align:left;">
pour point
</td>
<td style="text-align:left;">
Value
</td>
</tr>
<tr>
<td style="text-align:left;">
Elevation catchment average - watershed average
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Forest Cover Extent catchment Spatial extent (%)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
L07
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Forest Cover Extent
</td>
<td style="text-align:left;">
GLC2000
</td>
<td style="text-align:left;">
BartholomÃ© &amp; Belward 2005
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Forest Cover Extent watershed Spatial extent (%)
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
L07
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Forest Cover Extent
</td>
<td style="text-align:left;">
GLC2000
</td>
<td style="text-align:left;">
BartholomÃ© &amp; Belward 2005
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Glacier Extent catchment Spatial extent (%)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
L11
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Glacier Extent
</td>
<td style="text-align:left;">
GLIMS
</td>
<td style="text-align:left;">
GLIMS &amp; NSIDC 2012
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Glacier Extent watershed Spatial extent (%)
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
L11
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Glacier Extent
</td>
<td style="text-align:left;">
GLIMS
</td>
<td style="text-align:left;">
GLIMS &amp; NSIDC 2012
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Land Cover Classes catchment Spatial majority (dominant value)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mj
</td>
<td style="text-align:left;">
L01
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Land Cover Classes
</td>
<td style="text-align:left;">
GLC2000
</td>
<td style="text-align:left;">
BartholomÃ© &amp; Belward 2005
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial majority (dominant value)
</td>
</tr>
<tr>
<td style="text-align:left;">
Groundwater Table Depth catchment Average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
H10
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Groundwater Table Depth
</td>
<td style="text-align:left;">
Global Groundwater Map
</td>
<td style="text-align:left;">
Fan et al. 2013
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Inundation Extent catchment Minimum or Annual minimum
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mn
</td>
<td style="text-align:left;">
H03
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Inundation Extent
</td>
<td style="text-align:left;">
GIEMS-D15
</td>
<td style="text-align:left;">
Fluet-Chouinard et al. 2015
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Minimum or Annual minimum
</td>
</tr>
<tr>
<td style="text-align:left;">
Inundation Extent watershed Minimum or Annual minimum
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
mn
</td>
<td style="text-align:left;">
H03
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Inundation Extent
</td>
<td style="text-align:left;">
GIEMS-D15
</td>
<td style="text-align:left;">
Fluet-Chouinard et al. 2015
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Minimum or Annual minimum
</td>
</tr>
<tr>
<td style="text-align:left;">
Inundation Extent watershed Maximum or Annual maximum
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
mx
</td>
<td style="text-align:left;">
H03
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Inundation Extent
</td>
<td style="text-align:left;">
GIEMS-D15
</td>
<td style="text-align:left;">
Fluet-Chouinard et al. 2015
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Maximum or Annual maximum
</td>
</tr>
<tr>
<td style="text-align:left;">
Irrigated Area Extent (Equipped) catchment Spatial extent (%)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
L10
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Irrigated Area Extent (Equipped)
</td>
<td style="text-align:left;">
HID v1.0
</td>
<td style="text-align:left;">
Siebert et al. 2015
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Irrigated Area Extent (Equipped) watershed Spatial extent (%)
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
L10
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Irrigated Area Extent (Equipped)
</td>
<td style="text-align:left;">
HID v1.0
</td>
<td style="text-align:left;">
Siebert et al. 2015
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Karst Area Extent catchment Spatial extent (%)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
S07
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Karst Area Extent
</td>
<td style="text-align:left;">
Rock Outcrops v3.0
</td>
<td style="text-align:left;">
Williams &amp; Ford 2006
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Karst Area Extent watershed Spatial extent (%)
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
S07
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Karst Area Extent
</td>
<td style="text-align:left;">
Rock Outcrops v3.0
</td>
<td style="text-align:left;">
Williams &amp; Ford 2006
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Lithological Classes catchment Spatial majority (dominant value)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mj
</td>
<td style="text-align:left;">
S06
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Lithological Classes
</td>
<td style="text-align:left;">
GLiM
</td>
<td style="text-align:left;">
Hartmann &amp; Moosdorf 2012
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial majority (dominant value)
</td>
</tr>
<tr>
<td style="text-align:left;">
Limnicity (Percent Lake Area) catchment Spatial extent (%)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
H04
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Limnicity (Percent Lake Area)
</td>
<td style="text-align:left;">
HydroLAKES
</td>
<td style="text-align:left;">
Messager et al. 2016
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Limnicity (Percent Lake Area) watershed Spatial extent (%)
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
H04
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Limnicity (Percent Lake Area)
</td>
<td style="text-align:left;">
HydroLAKES
</td>
<td style="text-align:left;">
Messager et al. 2016
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Potential Evapotranspiration watershed Annual average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
C05
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Potential Evapotranspiration
</td>
<td style="text-align:left;">
Global-PET
</td>
<td style="text-align:left;">
Zomer et al. 2008
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Potential Natural Vegetation Classes catchment Spatial majority (dominant value)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mj
</td>
<td style="text-align:left;">
L03
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Potential Natural Vegetation Classes
</td>
<td style="text-align:left;">
EarthStat
</td>
<td style="text-align:left;">
Ramankutty &amp; Foley 1999
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial majority (dominant value)
</td>
</tr>
<tr>
<td style="text-align:left;">
Precipitation catchment Minimum or Annual minimum
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mn
</td>
<td style="text-align:left;">
C04
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Precipitation
</td>
<td style="text-align:left;">
WorldClim v1.4
</td>
<td style="text-align:left;">
Hijmans et al. 2005
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Minimum or Annual minimum
</td>
</tr>
<tr>
<td style="text-align:left;">
Precipitation catchment Annual min/max
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Precipitation watershed Annual average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
C04
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Precipitation
</td>
<td style="text-align:left;">
WorldClim v1.4
</td>
<td style="text-align:left;">
Hijmans et al. 2005
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Permafrost Extent catchment Spatial extent (%)
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
L12
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Permafrost Extent
</td>
<td style="text-align:left;">
PZI
</td>
<td style="text-align:left;">
Gruber 2012
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Permafrost Extent watershed Spatial extent (%)
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
se
</td>
<td style="text-align:left;">
L12
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Permafrost Extent
</td>
<td style="text-align:left;">
PZI
</td>
<td style="text-align:left;">
Gruber 2012
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Spatial extent (%)
</td>
</tr>
<tr>
<td style="text-align:left;">
Land Surface Runoff catchment Annual average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
H02
</td>
<td style="text-align:left;">
Hydrology
</td>
<td style="text-align:left;">
Land Surface Runoff
</td>
<td style="text-align:left;">
WaterGAP v2.2
</td>
<td style="text-align:left;">
DÃ¶ll et al. 2003
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Silt Fraction in Soil catchment Average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
S02
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Silt Fraction in Soil
</td>
<td style="text-align:left;">
SoilGrids1km
</td>
<td style="text-align:left;">
Hengl et al. 2014
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Silt Fraction in Soil watershed Average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
S02
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Silt Fraction in Soil
</td>
<td style="text-align:left;">
SoilGrids1km
</td>
<td style="text-align:left;">
Hengl et al. 2014
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Sand Fraction in Soil catchment Average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
S03
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Sand Fraction in Soil
</td>
<td style="text-align:left;">
SoilGrids1km
</td>
<td style="text-align:left;">
Hengl et al. 2014
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Sand Fraction in Soil watershed Average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
S03
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Sand Fraction in Soil
</td>
<td style="text-align:left;">
SoilGrids1km
</td>
<td style="text-align:left;">
Hengl et al. 2014
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Snow Cover Extent catchment Maximum or Annual maximum
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mx
</td>
<td style="text-align:left;">
C09
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Snow Cover Extent
</td>
<td style="text-align:left;">
MODIS/Aqua
</td>
<td style="text-align:left;">
Hall &amp; Riggs 2016
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Maximum or Annual maximum
</td>
</tr>
<tr>
<td style="text-align:left;">
Snow Cover Extent catchment Annual average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
C09
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Snow Cover Extent
</td>
<td style="text-align:left;">
MODIS/Aqua
</td>
<td style="text-align:left;">
Hall &amp; Riggs 2016
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Snow Cover Extent watershed Annual average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
C09
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Snow Cover Extent
</td>
<td style="text-align:left;">
MODIS/Aqua
</td>
<td style="text-align:left;">
Hall &amp; Riggs 2016
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Organic Carbon Content in Soil catchment Average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
S04
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Organic Carbon Content in Soil
</td>
<td style="text-align:left;">
SoilGrids1km
</td>
<td style="text-align:left;">
Hengl et al. 2014
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Organic Carbon Content in Soil watershed Average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
av
</td>
<td style="text-align:left;">
S04
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Organic Carbon Content in Soil
</td>
<td style="text-align:left;">
SoilGrids1km
</td>
<td style="text-align:left;">
Hengl et al. 2014
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Average
</td>
</tr>
<tr>
<td style="text-align:left;">
Soil Water Content catchment Minimum or Annual minimum
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mn
</td>
<td style="text-align:left;">
S05
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Soil Water Content
</td>
<td style="text-align:left;">
Global Soil-Water Balance
</td>
<td style="text-align:left;">
Trabucco &amp; Zomer 2010
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Minimum or Annual minimum
</td>
</tr>
<tr>
<td style="text-align:left;">
Soil Water Content catchment Annual average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
S05
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Soil Water Content
</td>
<td style="text-align:left;">
Global Soil-Water Balance
</td>
<td style="text-align:left;">
Trabucco &amp; Zomer 2010
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Soil Water Content watershed Annual average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
S05
</td>
<td style="text-align:left;">
Soils &amp; Geology
</td>
<td style="text-align:left;">
Soil Water Content
</td>
<td style="text-align:left;">
Global Soil-Water Balance
</td>
<td style="text-align:left;">
Trabucco &amp; Zomer 2010
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Air Temperature catchment Minimum or Annual minimum
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mn
</td>
<td style="text-align:left;">
C03
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Air Temperature
</td>
<td style="text-align:left;">
WorldClim v1.4
</td>
<td style="text-align:left;">
Hijmans et al. 2005
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Minimum or Annual minimum
</td>
</tr>
<tr>
<td style="text-align:left;">
Air Temperature catchment Maximum or Annual maximum
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
mx
</td>
<td style="text-align:left;">
C03
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Air Temperature
</td>
<td style="text-align:left;">
WorldClim v1.4
</td>
<td style="text-align:left;">
Hijmans et al. 2005
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Maximum or Annual maximum
</td>
</tr>
<tr>
<td style="text-align:left;">
Air Temperature catchment Annual average
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
C03
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Air Temperature
</td>
<td style="text-align:left;">
WorldClim v1.4
</td>
<td style="text-align:left;">
Hijmans et al. 2005
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Air Temperature watershed Annual average
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
yr
</td>
<td style="text-align:left;">
C03
</td>
<td style="text-align:left;">
Climate
</td>
<td style="text-align:left;">
Air Temperature
</td>
<td style="text-align:left;">
WorldClim v1.4
</td>
<td style="text-align:left;">
Hijmans et al. 2005
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Annual average
</td>
</tr>
<tr>
<td style="text-align:left;">
Wetland Extent catchment Class group 1
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
g1
</td>
<td style="text-align:left;">
L06
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Wetland Extent
</td>
<td style="text-align:left;">
GLWD
</td>
<td style="text-align:left;">
Lehner &amp; DÃ¶ll 2004
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Class group 1
</td>
</tr>
<tr>
<td style="text-align:left;">
Wetland Extent catchment Class group 2
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
g2
</td>
<td style="text-align:left;">
L06
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Wetland Extent
</td>
<td style="text-align:left;">
GLWD
</td>
<td style="text-align:left;">
Lehner &amp; DÃ¶ll 2004
</td>
<td style="text-align:left;">
catchment
</td>
<td style="text-align:left;">
Class group 2
</td>
</tr>
<tr>
<td style="text-align:left;">
Wetland Extent watershed Class group 1
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
g1
</td>
<td style="text-align:left;">
L06
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Wetland Extent
</td>
<td style="text-align:left;">
GLWD
</td>
<td style="text-align:left;">
Lehner &amp; DÃ¶ll 2004
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Class group 1
</td>
</tr>
<tr>
<td style="text-align:left;">
Wetland Extent watershed Class group 2
</td>
<td style="text-align:left;">
u
</td>
<td style="text-align:left;">
g2
</td>
<td style="text-align:left;">
L06
</td>
<td style="text-align:left;">
Landcover
</td>
<td style="text-align:left;">
Wetland Extent
</td>
<td style="text-align:left;">
GLWD
</td>
<td style="text-align:left;">
Lehner &amp; DÃ¶ll 2004
</td>
<td style="text-align:left;">
watershed
</td>
<td style="text-align:left;">
Class group 2
</td>
</tr>
</tbody>
</table>
</div>
<div id="model-training-strategy" class="section level1">
<h1>Model training strategy</h1>
<div id="explanation-adapated-from-mlr3-manual" class="section level2">
<h2>Explanation adapated from mlr3 manual</h2>
<p>Resampling strategies are usually used to assess the performance of a learning algorithm. By subsetting the reference data (that we intend to predict) into independent training and testing sets, resampling allows us to assess how our algorithm may perform on a previously untested datasets.</p>
<p>Hyperparameters are second-order parameters of machine learning models that, while often not explicitly optimized during the model estimation process, can have important impacts on the outcome and predictive performance of a model. Typically, hyperparameters are fixed before training a model. However, because the output of a model can be sensitive to the specification of hyperparameters, it is often recommended to make an informed decision about which hyperparameter settings may yield better model performance. In many cases, hyperparameter settings may be chosen a priori, but it can be advantageous to try different settings before fitting your model on the training data. This process is often called ‘tuning’ your model.</p>
<p>In order to obtain unbiased performance estimates, all parts of the model building (preprocessing and model selection steps) should be included in the resampling, i.e., repeated for every pair of training/test data. Because not only final training but hyperparameter tuning requires resampling to avoid overfitting and to give accurate performance estimates, then our analysis relied on a nested resampling strategy.</p>
<div class="figure">
<img src="https://mlr3book.mlr-org.com/images/nested_resampling.png" alt="Nested resampling illustration" />
<p class="caption">Nested resampling illustration</p>
</div>
<p>The graphic above illustrates nested resampling for parameter tuning with 3-fold cross-validation in the outer and 4-fold cross-validation in the inner loop.</p>
<p>In the outer resampling loop, we have three pairs of training/test sets. On each of these outer training sets parameter tuning is done, thereby executing the inner resampling loop. This way, we get one set of selected hyperparameters for each outer training set. Then the learner is fitted on each outer training set using the corresponding selected hyperparameters. Subsequently, we can evaluate the performance of the learner on the outer test sets.</p>
<p>In our case, the inner resampling strategy consisted of tuning three random forest hyperparameters: the fraction of the dataset sampled without replacement to grow each tree in the forest, the number of predictor variables to randomly draw at each decision split in the trees, and the minimum size of end nodes. With this initial development of the model and in the absence of additional computational power, the inner resampling was performed by cross-validation with 2 folds. For each fold, hyperparameter tuning was conducted by randomly drawing twenty sets of values for all three tuned hyperparameters, training a random forest model with each set of values on the training data for that fold, and testing the performance of the model on the testing data for that fold (here 50% of the dataset). The highest performing hyperparameter values are then passed on to the outer resampling fold. Our performance measure in determing the best set of hyperparameter values was the weighted balanced accuracy, suited for imbalanced datasets. It is defined analogously to the definition in <a href="https://scikit-learn.org/">sklearn</a>.</p>
<p>First, the sample weights <span class="math inline">\(w\)</span> are normalized per class: <span class="math display">\[
 \hat{w}_i = \frac{w_i}{\sum_j 1(y_j = y_i) w_i}.
}{
 w_hat[i] = w[i] / sum((t == t[i]) * w[i]).
}\]</span></p>
<p>The balanced accuracy is calculated as: <span class="math display">\[\deqn{
 \frac{1}{\sum_i \hat{w}_i} \sum_i 1(r_i = t_i) \hat{w}_i.
}{
 1 / sum(w_hat) * sum((r == t) * w_hat).
}
}\]</span></p>
<p>Outer resampling was performed with repeated cross-validation using five folds and two repeatitions.</p>
<p>The random forest algorithm is known to produce biased estimates in binary classification tasks if the two classes are unequally represented in the training data. In the case of this study, the classes were unequally represented with almost three times as many perennial as there were intermittent rivers. The minority class (here intermittent rivers) was therefore oversampled with replacement for training purposes.</p>
<p>All RF instances were trained with 500 tree, using the Gini index as splitting rule, and grown as probability trees following Malley et al.’s 2012 approach with the mlr3 and ranger package.</p>
</div>
</div>
<div id="model-performance" class="section level1">
<h1>Model performance</h1>
<pre class="r"><code>print(misclass_plot)</code></pre>
<pre><code>Warning: Removed 1 rows containing missing values (geom_path).</code></pre>
<p><img src="figure/diagnostics.Rmd/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="variable-importance" class="section level1">
<h1>Variable importance</h1>
<pre class="r"><code>print(vimp_plot)</code></pre>
<p><img src="figure/diagnostics.Rmd/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="bivariate-partial-dependence-plots" class="section level1">
<h1>Bivariate partial dependence plots</h1>
<pre class="r"><code>plot(pd_plot)</code></pre>
<p><img src="figure/diagnostics.Rmd/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;" /> # Map of gauges</p>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 3.6.2 (2019-12-12)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 18363)

Matrix products: default

locale:
[1] LC_COLLATE=English_United States.1252 
[2] LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] tidyselect_1.0.0    kableExtra_1.1.0    furrr_0.1.0        
 [4] future.callr_0.5.0  future.apply_1.4.0  future_1.16.0      
 [7] data.table_1.12.8   mlr3verse_0.1.1     mlr3viz_0.1.1      
[10] mlr3tuning_0.1.2    mlr3pipelines_0.1.2 mlr3learners_0.1.6 
[13] mlr3filters_0.1.1   mlr3db_0.1.5        mlr3_0.1.7         
[16] ggpubr_0.2.5        magrittr_1.5        xlsx_0.6.2         
[19] edarf_1.1.1         ranger_0.12.1       paradox_0.1.0      
[22] bigstatsr_1.1.4     rprojroot_1.3-2     sf_0.8-1           
[25] gridExtra_2.3       ggplot2_3.2.1       plyr_1.8.5         
[28] stringr_1.4.0       profvis_0.3.6       tictoc_1.0         
[31] reprex_0.3.0        drake_7.12.0       

loaded via a namespace (and not attached):
 [1] colorspace_1.4-1   ggsignif_0.6.0     class_7.3-15       fs_1.4.0          
 [5] rstudioapi_0.11    farver_2.0.3       listenv_0.8.0      fansi_0.4.1       
 [9] xml2_1.3.0         codetools_0.2-16   doParallel_1.0.15  knitr_1.28        
[13] workflowr_1.6.1    packrat_0.5.0      rJava_0.9-11       readr_1.3.1       
[17] bigparallelr_0.2.3 compiler_3.6.2     httr_1.4.1         backports_1.1.5   
[21] assertthat_0.2.1   Matrix_1.2-18      lazyeval_0.2.2     cli_2.0.1         
[25] later_1.0.0        htmltools_0.4.0    prettyunits_1.1.1  tools_3.6.2       
[29] igraph_1.2.5       gtable_0.3.0       glue_1.3.1         dplyr_0.8.4       
[33] Rcpp_1.0.3         vctrs_0.2.3        iterators_1.0.12   xfun_0.12         
[37] globals_0.12.5     ps_1.3.2           xlsxjars_0.6.1     mlr3measures_0.1.1
[41] rvest_0.3.5        lifecycle_0.1.0    scales_1.1.0       lgr_0.3.3         
[45] hms_0.5.3          promises_1.1.0     flock_0.7          parallel_3.6.2    
[49] yaml_2.2.1         stringi_1.4.6      highr_0.8          foreach_1.4.8     
[53] e1071_1.7-3        checkmate_2.0.0    bigassertr_0.1.2   filelock_1.0.2    
[57] mmpf_0.0.5         storr_1.2.1        rlang_0.4.4        pkgconfig_2.0.3   
[61] evaluate_0.14      lattice_0.20-38    purrr_0.3.3        labeling_0.3      
[65] htmlwidgets_1.5.1  cowplot_1.0.0      processx_3.4.2     R6_2.4.1          
[69] base64url_1.4      txtq_0.2.0         DBI_1.1.0          pillar_1.4.3      
[73] whisker_0.4        withr_2.1.2        units_0.6-5        tibble_2.1.3      
[77] crayon_1.3.4       uuid_0.1-4         KernSmooth_2.23-16 rmarkdown_2.1     
[81] progress_1.2.2     grid_3.6.2         callr_3.4.3        git2r_0.26.1      
[85] mlr3misc_0.1.8     digest_0.6.25      classInt_0.4-2     webshot_0.5.2     
[89] httpuv_1.5.2       munsell_0.5.0      viridisLite_0.3.0 </code></pre>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
